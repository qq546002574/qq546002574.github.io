(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-91ead360"],{"1c6e":function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=n("7370"),r=Object(a.withScopeId)("data-v-79275498");Object(a.pushScopeId)("data-v-79275498");var o={class:"table-title"},i=Object(a.createTextVNode)("新增"),u=Object(a.createTextVNode)("jenkins任务定时设置"),d=Object(a.createTextVNode)("修改"),l=Object(a.createVNode)("a",null,"删除",-1);Object(a.popScopeId)();var s=r((function(e,t,n,c,s,p){var f=Object(a.resolveComponent)("router-link"),b=Object(a.resolveComponent)("a-button"),j=Object(a.resolveComponent)("a-popconfirm"),O=Object(a.resolveComponent)("a-space"),m=Object(a.resolveComponent)("a-table");return Object(a.openBlock)(!0),Object(a.createBlock)(a.Fragment,null,Object(a.renderList)(e.tables,(function(t){return Object(a.openBlock)(),Object(a.createBlock)("div",{key:t.flag},[Object(a.createVNode)("h3",o,Object(a.toDisplayString)(t.title),1),Object(a.createVNode)(b,{loading:e.loading,type:"primary"},{default:r((function(){return[Object(a.createVNode)(f,{to:"/object/jenkins/add"},{default:r((function(){return[i]})),_:1})]})),_:1},8,["loading"]),Object(a.createVNode)(b,{loading:e.loading,type:"primary",style:{"margin-left":"10px"}},{default:r((function(){return[Object(a.createVNode)(f,{to:"/object/jenkins/add"},{default:r((function(){return[u]})),_:1})]})),_:1},8,["loading"]),Object(a.createVNode)(m,{bordered:"",scroll:{y:"calc(100vh - 210px)"},columns:e.columns,loading:e.loading,pagination:!1,rowKey:"pid","data-source":t.data},{actions:r((function(n){n.text;var c=n.record;return[Object(a.createVNode)(O,{size:10},{default:r((function(){return[Object(a.createVNode)(f,{to:"/object/jenkins/".concat(c.id)},{default:r((function(){return[d]})),_:2},1032,["to"]),t.data.length?(Object(a.openBlock)(),Object(a.createBlock)(j,{key:0,title:"您确定要删除吗?",onConfirm:function(t){return e.uninstall(c)}},{default:r((function(){return[l]})),_:1},8,["onConfirm"])):Object(a.createCommentVNode)("",!0),Object(a.createVNode)("a",{onClick:function(n){return e.approve(c,t.flag)}},Object(a.toDisplayString)(0==t.flag?"启动":"停止"),9,["onClick"])]})),_:2},1024)]})),_:2},1032,["scroll","columns","loading","data-source"])])})),128)})),p=(n("a9e3"),n("d3b7"),n("5530")),f=(n("96cf"),n("1da1")),b=n("768f"),j=n("1d87"),O=n("f64c"),m=n("dfe7"),v=[{title:"序号",dataIndex:"id"},{title:"任务名称",dataIndex:"jobCurrentName",slots:{customRender:"mac"}},{title:"tomcat名称",dataIndex:"tomcatInstanceName"},{title:"jenkins环境项目名",dataIndex:"jobPlace"},{title:"Maven打包后的jar名称",dataIndex:"warName"},{title:"部署环境",dataIndex:"deployType"},{title:"打包方式",dataIndex:"packageWay"},{title:"分支名称",dataIndex:"deployBranch"},{title:"操作",dataIndex:"actions",fixed:"right",width:170,slots:{customRender:"actions"}}],g=Object(a.defineComponent)({name:"table-data",components:{SplitPanel:c.a,APopconfirm:b.a,ASpace:j.a},props:{selectedDeptId:{type:[String,Number],default:1}},setup:function(e){var t=Object(a.reactive)({loading:!1,currentPid:0,approvedList:[]}),n=v,c=Object(a.computed)((function(){return[{title:"jenkins列表",flag:0,data:t.approvedList}]})),r=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,Object(m.d)({}).finally((function(){return t.loading=!1}));case 3:n=e.sent,t.approvedList=n;case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r(),Object(a.watch)((function(){return e.selectedDeptId}),(function(e){r()}));var o=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(t,n){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.e)({flag:n},t.id);case 2:1==(a=e.sent).code?O.a.success("操作成功"):O.a[a.type](a.message||"操作失败");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(f.a)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.c)({},t.id);case 2:1==(n=e.sent).code?O.a.success("删除成功"):O.a[n.type](n.message||"删除失败"),r();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(p.a)(Object(p.a)({},Object(a.toRefs)(t)),{},{columns:n,tables:c,approve:o,uninstall:i})}});n("4ff2"),g.render=s,g.__scopeId="data-v-79275498";var k=g,x=Object(a.defineComponent)({name:"jenkins",components:{SplitPanel:c.a,TableData:k},setup:function(){return{}}});n("550f"),x.render=function(e,t,n,c,r,o){var i=Object(a.resolveComponent)("table-data"),u=Object(a.resolveComponent)("split-panel");return Object(a.openBlock)(),Object(a.createBlock)(u,null,{"right-content":Object(a.withCtx)((function(){return[Object(a.createVNode)(i)]})),_:1})},t.default=x},"4e30":function(e,t,n){},"4ff2":function(e,t,n){"use strict";n("4e30")},"550f":function(e,t,n){"use strict";n("5ce6")},"5ce6":function(e,t,n){}}]);